{
  "set_mappings": {
    "SET_1": [
      {
        "sku": "Product_1",
        "quantity": 1
      },
      {
        "sku": "Product_2",
        "quantity": 3
      },
      {
        "sku": "Bag_1",
        "quantity": 1
      }
    ],
    "SET_2": [
      {
        "sku": "Product_A",
        "quantity": 1
      },
      {
        "sku": "Product_B",
        "quantity": 1
      }
    ]
  },
  "paths": {
    "input": {
      "stock_file": "data/input/EXCEL.csv",
      "orders_file": "data/input/orders_export.csv"
    },
    "output": {
      "analysis_file": "data/output/fulfillment_analysis.xlsx"
    },
    "templates": "data/templates/",
    "output_dir_stock": "data/output/"
  },
  "settings": {
    "stock_csv_delimiter": ";",
    "low_stock_threshold": 10
  },
  "column_mappings": {
    "orders_required": [
      "Name",
      "Lineitem sku",
      "Lineitem quantity"
    ],
    "stock_required": [
      "Артикул",
      "Наличност"
    ]
  },
  "rules": [
    {
      "name": "Add DHL Packaging",
      "match": "ALL",
      "conditions": [
        {
          "field": "Shipping_Provider",
          "operator": "equals",
          "value": "DHL"
        }
      ],
      "actions": [
        {
          "type": "ADD_PACKAGING",
          "value": [
            {
              "sku": "BOX_MEDIUM",
              "quantity": 1
            },
            {
              "sku": "GREETING_CARD",
              "quantity": 1
            }
          ]
        }
      ]
    }
  ],
  "packing_lists": [
    {
      "name": "All Fulfillable Orders",
      "output_filename": "data/output/packing_list_ALL.xlsx",
      "filters": [],
      "exclude_skus": ["07", "Shipping protection"]
    },
    {
      "name": "Single-Item Orders Only",
      "output_filename": "data/output/packing_list_SINGLE.xlsx",
      "filters": [
        {
          "field": "Order_Type",
          "operator": "==",
          "value": "Single"
        }
      ]
    },
    {
      "name": "Multi-Item Orders (DHL)",
      "output_filename": "data/output/packing_list_MULTI_DHL.xlsx",
      "filters": [
        {
          "field": "Order_Type",
          "operator": "==",
          "value": "Multi"
        },
        {
          "field": "Shipping_Provider",
          "operator": "==",
          "value": "DHL"
        }
      ]
    },
    {
      "name": "Multi-Item Orders (PostOne & DPD)",
      "output_filename": "data/output/packing_list_MULTI_POST_DPD.xlsx",
      "filters": [
        {
          "field": "Order_Type",
          "operator": "==",
          "value": "Multi"
        },
        {
          "field": "Shipping_Provider",
          "operator": "in",
          "value": [
            "PostOne",
            "DPD"
          ]
        }
      ]
    }
  ],
  "stock_exports": [
    {
      "name": "Stock Export (ALL)",
      "template": "dropALL.xls",
      "filters": []
    },
    {
      "name": "Stock Export (Single-Item Only)",
      "template": "dropSingle.xls",
      "filters": [
        {
          "field": "Order_Type",
          "operator": "==",
          "value": "Single"
        }
      ]
    },
    {
      "name": "Stock Export (Multi, DHL)",
      "template": "dropDHLMulti.xls",
      "filters": [
        {
          "field": "Order_Type",
          "operator": "==",
          "value": "Multi"
        },
        {
          "field": "Shipping_Provider",
          "operator": "==",
          "value": "DHL"
        }
      ]
    },
    {
      "name": "Stock Export (Multi, PostOne & DPD)",
      "template": "dropPostOneMulti.xls",
      "filters": [
        {
          "field": "Order_Type",
          "operator": "==",
          "value": "Multi"
        },
        {
          "field": "Shipping_Provider",
          "operator": "in",
          "value": [
            "PostOne",
            "DPD"
          ]
        }
      ]
    }
  ]
}
